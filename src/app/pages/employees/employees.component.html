<div class="container-fluid ps-0">
  <section class="header-page mb-0">

    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Accueil</a></li>
        <li class="breadcrumb-item active" aria-current="page">Employés</li>
      </ol>
    </nav>

    <div class="d-flex flex-wrap align-items-center ">
      <h2>Gestion des employés</h2>

      <div class="d-flex ms-auto">
        <app-avatar-group [avatars]="avatarsList" [maxVisible]="4"
          class="me-3"></app-avatar-group>
        <button class="btn btn-primary rounded pe-4 btn-i mb-0">
          <i class="icons icon-plus me-2"></i> Ajouter un employé
        </button>
      </div>
      <div class="d-flex align-items-center border-left ps-2">
        <button class="btn btn-link btn-small me-0 btn-i mb-0">
          <i class="icons icon-keypad"></i>
        </button>
        <button class="btn btn-link btn-small me-0 btn-i mb-0">
          <i class="icons icon-menu-arrow"></i>
        </button>

      </div>
    </div>

  </section>
  
    <div class="row">
      <div class="col-md-3 col-sm-12">
        <div class="employees-list">

          <div class="employees-search">
            <div class="input-group form-search">
              <input type="text" class="form-control"
                placeholder="Nom, matricule...">
              <i class="icons icon-search"></i>
              <i class="icons icon-right"></i>
            </div>
          </div>

          <div class="accordion accordion-employees ">
            <div class="accordion-item">
              <h2 class="accordion-header">
                <button class="accordion-button collapsed pe-5" type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#panel-collaps-b1" aria-expanded="true"
                  aria-controls="panel-collaps-b1">
                  Responsables ({{responsables.length}})
                </button>

                <div class="dropdown-more dropdown">
                  <button type="button"
                    class="btn btn-link btn-see-more btn-i m-0 "
                    data-bs-toggle="dropdown"
                    aria-expanded="false">
                    ...
                  </button>
                  <ul
                    class="dropdown-menu dropdown-menu-right dropdown-notification"
                    aria-labelledby="notifications">
                    <li>
                      <a href="#" class="dropdown-item border-bottom">
                        <i class="icons icon-edit-2 color-primary"></i>
                        <span><b>Jean Dupont</b> a signé un document</span><br>
                        <span class="h3">Libellé de la demande</span>
                        <span class="date">42 min</span>
                      </a>
                    </li>
                    <li>
                      <a href="#" class="dropdown-item border-bottom">
                        <i class="icons icon-email"></i>
                        <span><b>Jean Dupont</b> vous a envoyé une
                          demande</span><br>
                        <span class="h3">Libellé de la demande</span>
                        <span class="date">1 h</span>
                      </a>
                    </li>

                  </ul>
                </div>
              </h2>
              <div id="panel-collaps-b1"
                class="accordion-collapse collapse show"
                aria-labelledby="panel-collaps-b1">
                <div class="accordion-body px-0">
                  <ul class="emplyee-items">
                    <li *ngFor="let responsable of responsables ; let i = index"
                      class="emplyee-item"
                      [class.active]="selectedResponsable === responsable"
                      (click)="selectItem(i, 'responsable')">
                      <app-employee-card
                        [employee]="responsable"></app-employee-card></li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#panel-collaps-b2" aria-expanded="false"
                  aria-controls="panel-collaps-b2">
                  Cuisne ({{employees.length}})
                </button>
                <div class="dropdown-more dropdown">
                  <button type="button"
                    class="btn btn-link btn-see-more btn-i m-0 "
                    data-bs-toggle="dropdown"
                    aria-expanded="false">
                    ...
                  </button>
                  <ul
                    class="dropdown-menu dropdown-menu-right dropdown-notification"
                    aria-labelledby="notifications">
                    <li>
                      <a href="#" class="dropdown-item border-bottom">
                        <i class="icons icon-edit-2 color-primary"></i>
                        <span><b>Jean Dupont</b> a signé un document</span><br>
                        <span class="h3">Libellé de la demande</span>
                        <span class="date">42 min</span>
                      </a>
                    </li>
                    <li>
                      <a href="#" class="dropdown-item border-bottom">
                        <i class="icons icon-email"></i>
                        <span><b>Jean Dupont</b> vous a envoyé une
                          demande</span><br>
                        <span class="h3">Libellé de la demande</span>
                        <span class="date">1 h</span>
                      </a>
                    </li>

                  </ul>
                </div>
              </h2>
              <div id="panel-collaps-b2"
                class="accordion-collapse collapse show"
                aria-labelledby="panel-collaps-b2">
                <div class="accordion-body px-0">
                  <ul class="emplyee-items">
                    <li *ngFor="let emp of employees ; let i = index"
                      class="emplyee-item"
                      [class.active]="selectedEmployee === emp"
                      (click)="selectItem(i, 'employee')"><app-employee-card
                        [employee]="emp"></app-employee-card></li>
                  </ul>
                </div>
              </div>
            </div>

          </div>

        </div>
      </div>
      <div class="col-md-9 col-sm-12 pt-2">

        <ng-container *ngIf="selectedEmployee || selectedResponsable"
          class="employee-detail">
          <section class="employee-content p-0">
            <div class="employee-content-top px-3 py-2">
              <div class="row">
                <div class="col-md-6 col-sm-12">
                  <app-employee-card
                    [employee]="selectedEmployee || selectedResponsable"
                    [customClasses]="'large-card'">
                  </app-employee-card>
                </div>
                <div class="col-md-4 col-sm-12"></div>
                <div class="col-md-2 col-sm-12"></div>
              </div>
            </div>
            <div class="employee-content-footer px-3">
              <ul class="nav nav-tabs mb-0">
                <li class="nav-item">
                  <a class="nav-link" [class.active]="activeTab === 'list'"
                    (click)="activeTab = 'list'">Liste des
                    employés</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" [class.active]="activeTab === 'details'"
                    (click)="activeTab = 'details'">Détails</a>
                </li>
              </ul>
            </div>
          </section>
          <div class="tab-content" *ngIf="activeTab === 'list'">

            <div class="row mx-n1">
              <div class="col-md-6 col-sm-12 px-2"
                *ngFor="let emp of employees">
                <app-employee-infos title="Identité"
                  [infos]="personalInfos" [editable]="true"
                  (onEdit)="toggleEdit()"></app-employee-infos>
              </div>
              <div class="col-md-6 col-sm-12 px-2"
                *ngFor="let emp of employees">
                <app-employee-infos title="Coordonnées"
                  [infos]="personalInfos" [editable]="true"
                  (onEdit)="openEditModal()"></app-employee-infos>
              </div>
            </div>

          </div>

          <div class="tab-content" *ngIf="activeTab === 'details'">
            tabs2
          </div>
        </ng-container>
      </div>
    </div>
   
</div>